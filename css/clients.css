/* css/clients.css
   Styles completos atualizados para overlay, overlay-scroll, painéis com max-height,
   footer sticky sem sobrepor conteúdo, e ajustes mobile para evitar overflow oculto.
*/

/* Base card and form */
:root{ --card:#0b1220; --accent:#06b6d4; --muted:#94a3b8; --text:#e6eef6; }
.card{ padding:.6rem; border-radius:8px; background:var(--card) }
.form-grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:.6rem }
.form-grid label{ display:flex; flex-direction:column; gap:.35rem }
.form-grid input, .form-grid select, .btn-select{ padding:.5rem; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--text) }
.field-msg{ font-size:.85rem; color:var(--muted); min-height:1.1em }
.chip{ margin-top:.35rem; padding:.35rem .6rem; background:rgba(255,255,255,0.02); border-radius:999px; display:inline-block; color:var(--text) }

/* steppers */
.number-stepper{ display:inline-flex; align-items:center; gap:.4rem; background:transparent; border-radius:8px }
.number-stepper input{ width:72px; text-align:center; padding:.45rem; border-radius:8px; border:1px solid rgba(255,255,255,0.04) }
.number-stepper .stepper-incr, .number-stepper .stepper-decr{ background:transparent; border:1px solid rgba(255,255,255,0.04); padding:.35rem .6rem; border-radius:8px; cursor:pointer }

/* points list */
.points-header{ display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:.6rem }
.points-info{ display:flex; gap:1rem; color:var(--muted) }
.points-list{ display:flex; flex-direction:column; gap:.5rem; margin-bottom:.8rem }

/* point form and items */
.point-form{ padding:.8rem; border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent) }
.point-actions{ display:flex; justify-content:space-between; gap:.5rem; margin-top:.6rem }
.point-item{ padding:.6rem; display:flex; flex-direction:column; gap:.4rem }
.point-top{ display:flex; align-items:center; justify-content:space-between }
.point-meta{ display:flex; gap:.6rem; align-items:center }
.point-server, .point-app{ font-weight:600 }
.point-actions-inline{ display:flex; gap:.4rem; align-items:center }
.point-bottom{ display:flex; gap:.8rem; color:var(--muted) }

/* wizard actions and helpers */
.wizard-actions{ display:flex; justify-content:space-between; margin-top:.8rem; gap:.6rem }
.right-actions{ display:flex; gap:.5rem }
.left-actions{ display:flex; gap:.5rem }
.btn-select{ display:inline-flex; align-items:center; gap:.5rem; cursor:pointer }

/* -----------------------
   Overlay modal & panels
   ----------------------- */

/* Overlay modal: center on desktop, stretch on mobile */
.overlay-modal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:120; }
.overlay-backdrop{ position:absolute; inset:0; background:rgba(0,0,0,0.5); }

/* overlay-content: container principal; flex column to separate scroll area and footer */
.overlay-content{
  position:relative;
  width:100%;
  max-width:920px;
  border-radius:12px;
  margin:1rem;
  background:var(--card);
  box-shadow:0 18px 50px rgba(0,0,0,0.6);
  padding:0;
  max-height: calc(100vh - 48px);
  display:flex;
  flex-direction:column;
  overflow:visible;
}

/* overlay-scroll: area interna rolável; padding-bottom to avoid footer overlap */
.overlay-scroll{
  overflow:auto;
  -webkit-overflow-scrolling: touch;
  padding:0.6rem 0.8rem;
  max-height: calc(100vh - 180px); /* reserve espaço para header/footer */
}

/* panels (accordion-like) */
.panels{ display:flex; flex-direction:column; gap:0.6rem; }
.panel{ border-radius:10px; overflow:hidden; border:1px solid rgba(255,255,255,0.03); background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent) }
.panel-header{ display:flex; align-items:center; justify-content:space-between; padding:.6rem .8rem; cursor:pointer; gap:.6rem }
.panel-summary{ display:flex; gap:.5rem; align-items:center; color:var(--text); font-weight:600; overflow:hidden; white-space:nowrap; text-overflow:ellipsis }
.panel-summary .summary-name{ max-width:40%; overflow:hidden; text-overflow:ellipsis }
.panel-body{ padding:.6rem .8rem; background:transparent; transition: max-height .22s ease, padding .22s ease; max-height:60vh; overflow:auto; -webkit-overflow-scrolling:touch; }
.panel-body.hidden{ max-height:0; padding:0 .8rem; overflow:hidden; }

/* feedback and status in header */
.panel-status{ font-size:.85rem; color:var(--muted); padding:.15rem .4rem; border-radius:8px }

/* chevron transform depending expanded state */
.panel-header[aria-expanded="true"] .chevron{ transform:rotate(180deg) }

/* points badges summary */
.points-badges{ display:flex; gap:.35rem; align-items:center; flex-wrap:wrap }
.points-badges .badge{ background:rgba(255,255,255,0.03); padding:.25rem .5rem; border-radius:999px; font-size:.9rem }

/* global footer: sticky but outside overlay-scroll */
.modal-footer{ display:flex; justify-content:space-between; gap:.6rem; padding:.6rem; border-top:1px solid rgba(255,255,255,0.03); position:sticky; bottom:0; background:linear-gradient(180deg, rgba(0,0,0,0.02), transparent); z-index:11; }
.footer-right{ display:flex; gap:.6rem; align-items:center }

/* responsive: full-screen on mobile */
@media(max-width:820px){
  .overlay-modal{ align-items:stretch; }
  .overlay-content{ width:100%; height:100vh; margin:0; border-radius:0; max-width:100%; max-height:100vh; }
  .overlay-scroll{ max-height: calc(100vh - 140px); padding:12px; }
  .panel-body{ max-height: calc(100vh - 220px); }
  .modal-footer{ position:fixed; left:0; right:0; bottom:0; }
  .form-grid{ grid-template-columns:1fr; padding-bottom:80px; }
  .number-stepper input{ width:100%; }
  .client-header { padding:12px; }
}

/* feedback messages */
.field-msg{ color:var(--muted); min-height:1.1em }

/* points list & item */
.points-list{ display:flex; flex-direction:column; gap:.5rem; margin-bottom:.6rem }
.point-item{ padding:.6rem; display:flex; flex-direction:column; gap:.4rem }
.point-top{ display:flex; align-items:center; justify-content:space-between }
.point-meta{ display:flex; gap:.6rem; align-items:center; }
.point-server, .point-app{ font-weight:600 }
.point-actions-inline{ display:flex; gap:.4rem; align-items:center }
.point-bottom{ display:flex; gap:.8rem; color:var(--muted) }

/* button states and small helpers */
button[disabled], .btn-primary[disabled]{ opacity:.55; pointer-events:none; }
.btn-select{ display:inline-flex; align-items:center; gap:.5rem; cursor:pointer }
.hidden{ display:none; }
